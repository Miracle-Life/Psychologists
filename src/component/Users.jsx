import React from "react";import {db} from "../base";import 'firebase/app-check';import CardUser from "./CardUser";export default class Users extends React.Component {    constructor(props) {        super(props);        this.state = {            psycologists: {},            categories: 'Психиатр'        }    }    onChange = (event) => {        this.setState({            categories: event.target.value        })    }    deleteUser = () => {        console.log('deleteUser')        const ps = db.ref("psycologists");        ps.child('Кравченко Иван').remove()    }    componentDidMount() {        this.getUser()    }    componentDidUpdate(prevProps, prevState, snapshot) {        if (prevState.categories !== this.state.categories) {            this.getUser()        }    }    getUser = () => {        const ref = db            .ref("psycologists")            .orderByChild('type')            .equalTo(this.state.categories);        ref.on("value", (snapshot) => {            this.setState({                psycologists: snapshot.val(),            });        });    }    render() {        return (            <div className="container">                <div className="row">                    <div className="col-3">                        <React.Fragment>                            <div><h3>Users Category</h3></div>                            <div className="form-check form-switch">                                <input                                    className="form-check-input"                                    type="radio"                                    name='user'                                    id="Психолог"                                    value='Психолог'                                    onChange={this.onChange}                                />                                <label className="form-check-label" htmlFor="Психолог">                                    Психолог                                </label>                            </div>                            <div className="form-check form-switch">                                <input                                    className="form-check-input"                                    type="radio"                                    name='user'                                    id="Психиатр"                                    value='Психиатр'                                    onChange={this.onChange}                                    defaultChecked                                />                                <label className="form-check-label" htmlFor="Психиатр">                                    Психиатр                                </label>                            </div>                            <div className="form-check form-switch">                                <input                                    className="form-check-input"                                    type="radio"                                    name='user'                                    id="Психотерапевт"                                    value='Психотерапевт'                                    onChange={this.onChange}                                />                                <label className="form-check-label" htmlFor="Психотерапевт">                                    Психотерапевт                                </label>                            </div>                        </React.Fragment>                    </div>                    <div className="col">                        {Object.keys(this.state.psycologists).map((key) => {                            return <CardUser                                key={key}                                index={key}                                deleteUser={this.deleteUser}                                details={this.state.psycologists[key]}                            />                        })}                    </div>                </div>            </div>        )    }}